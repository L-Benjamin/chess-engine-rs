use std::hash::{Hash, Hasher};
use std::ops::BitXorAssign;

use crate::bitboard::BitBoard;
use crate::castle_rights::CastleRights;
use crate::color::Color;
use crate::en_passant::EnPassantSquare;
use crate::game::Game;
use crate::piece::Piece;
use crate::square::Square;

//#################################################################################################
//
//                                     struct Position
//
//#################################################################################################

/// Decribes completely a given position, useful for storing in a hash table
#[derive(Debug, Eq, PartialEq)]
pub struct Position {
    bitboards: [[BitBoard; 6]; 2],
    castle_rights: CastleRights,
    color: Color,
    ep_rights: EnPassantSquare,
    zobrist: Zobrist,
}

// ================================ traits impl

impl From<&Game> for Position {
    #[inline(always)]
    fn from(game: &Game) -> Position {
        Position {
            bitboards: game.get_board().get_bitboards(),
            castle_rights: game.get_castle_rights(),
            color: game.get_color(),
            ep_rights: game.get_ep_rights(),
            zobrist: game.get_zobrist(),
        }
    }
}

impl Hash for Position {
    #[inline(always)]
    fn hash<H: Hasher>(&self, state: &mut H) {
        self.zobrist.hash(state);
    }
}

//#################################################################################################
//
//                                      struct Keys 
//
//#################################################################################################

// A struct holding the zobrist keys necessary to zobrist hashing
#[derive(Debug)]
pub struct Keys {
    castle_rights_keys: [u64; 16],
    color_keys: [u64; 2],
    en_passant_file_key: [u64; 8],
    squares_colors_pieces_keys: [[[u64; 6]; 2]; 64],
}

//#################################################################################################
//
//                                     struct Zobrist
//
//#################################################################################################

/// A structure describing a 64 bit zobrist hash key
#[derive(Clone, Copy, Debug, Default, Eq, PartialEq)]
pub struct Zobrist(u64);

// ================================ traits impl

impl BitXorAssign<(Color, Piece, Square)> for Zobrist {
    #[inline(always)]
    fn bitxor_assign(&mut self, rhs: (Color, Piece, Square)) {
        self.0 ^= ZOBRIST_KEYS.squares_colors_pieces_keys[rhs.2 as usize][rhs.0 as usize][rhs.1 as usize];
    }
}

impl BitXorAssign<Color> for Zobrist {
    #[inline(always)]
    fn bitxor_assign(&mut self, rhs: Color) {
        self.0 ^= ZOBRIST_KEYS.color_keys[rhs as usize];
    }
}

impl BitXorAssign<CastleRights> for Zobrist {
    #[inline(always)]
    fn bitxor_assign(&mut self, rhs: CastleRights) {
        self.0 ^= ZOBRIST_KEYS.castle_rights_keys[rhs.get_raw() as usize];
    }
}

impl BitXorAssign<EnPassantSquare> for Zobrist {
    #[inline(always)]
    fn bitxor_assign(&mut self, rhs: EnPassantSquare) {
        match rhs {
            EnPassantSquare::Some(sq) => {
                self.0 ^= ZOBRIST_KEYS.en_passant_file_key[sq.x() as usize];
            }
            EnPassantSquare::None => (),
        }
    }
}

impl Hash for Zobrist {
    #[inline(always)]
    fn hash<H: Hasher>(&self, state: &mut H) {
        state.write_u64(self.0);
    }
}

//#################################################################################################
//
//                                  Zobrist keys initialization
//
//#################################################################################################

// The zobrist keys
pub const ZOBRIST_KEYS: Keys = Keys {
    castle_rights_keys: [
        0x82F5E64B9DB33EA5,
        0x262476E9EB081120,
        0x2E95E81BA0B4BA56,
        0x9A1170B58B43A2D1,
        0x9C484CB580E4EBE4,
        0xE1280CD1F7B87534,
        0x7EC11D8AC19099EC,
        0xDC476ABE47C85B66,
        0x6000E33CBE15A3AF,
        0x10ADB12C222047EC,
        0xC84DB46878D3419E,
        0xA4CC338BF47E6D7E,
        0x87A5A6127DE9116F,
        0x641F9EC74D4CA3B,
        0x4F36625ABD5CA868,
        0xE88BB542F5B9E07C,
    ],
    color_keys: [
        0x931E9F8367B24E7E,
        0x5D97782713A4066D,
    ],
    en_passant_file_key: [
        0x546A73065ECB2D45,
        0x8FE1726054972CB8,
        0xF23B2C41C5579BFE,
        0x418E8C602AD09FB9,
        0x89C7EB45A4ACC07A,
        0x83FDC16373E8F81B,
        0xD6D501381BB1CFE7,
        0x553F4B795E4724A5,
    ],
    squares_colors_pieces_keys: [
        [
            [
                0x69C3B06984335CF9,
                0xAC11FC389E5E9C7C,
                0x7ED298981EBEA6B2,
                0xCB9DD5048CD236B3,
                0x7FBC3E9F0A00F526,
                0x69876B63E6256CC8,
            ],
            [
                0x192EABEC876A585E,
                0xD06E167213C74B2F,
                0x6AABDA8D52968688,
                0x7B997E145FF12E31,
                0x8C43C0A290EBFF67,
                0xD75BBEBE727F1677,
            ],
        ],
        [
            [
                0x70F7CF8D79E066EF,
                0xEF157EC4C09CA8BA,
                0xABA61DE9201F8E50,
                0x3029788F7D72CE4,
                0xADB9CF003C058D25,
                0x4D83F9656C86DC67,
            ],
            [
                0x5426FF61D0BB85CA,
                0x1FB1E39EDE0C5B43,
                0x4058C477FF25ED39,
                0x7591DBBA0CAE7DCB,
                0x363D50766CEE2854,
                0x57D7F84CA6D820AC,
            ],
        ],
        [
            [
                0xDAE80232BD6ACA9E,
                0xAEB9238900849DCC,
                0xF15B7112E1B7D81A,
                0x863DE2E10F980923,
                0xF546E924C65199C4,
                0x484B0AD27613377,
            ],
            [
                0x453F26E60A59798D,
                0x2CD4556171D8AB36,
                0xCCAC38A03642F902,
                0x5F8C171176EE935E,
                0xC2C694FB40B5179,
                0x3EAC6A05624A06AB,
            ],
        ],
        [
            [
                0xCEC2A53B0616B517,
                0xB6C74A14C1C2E16F,
                0x8094EF51BA665EAA,
                0x81BEE2760E1318C8,
                0x3929F2D6A9DB2B95,
                0x27FEB7509A26E159,
            ],
            [
                0xF393933541908348,
                0xA5BFC321D686DF06,
                0x423AC570719BEEEA,
                0x65B9E25A83BA17ED,
                0x716FABFCCF1CD6A2,
                0x2F1C7F39EE4BE9AB,
            ],
        ],
        [
            [
                0xD48769FB633E6DB1,
                0x20B0CAF809ED88CF,
                0x600B67CA4DEA2E2A,
                0x1FF9AC13A04B9F5E,
                0x947AD287E5763203,
                0x887E57DEDE57747E,
            ],
            [
                0x489B0BAD17A42D5F,
                0xA33E97BE1E4232B8,
                0xF42380D6B6E60AA6,
                0xDC0D69E37D0F289C,
                0xB60183026C85A279,
                0x35C392826B83B9B3,
            ],
        ],
        [
            [
                0xAD6F88F0FD0E1EA,
                0x35A37385E7681162,
                0x91E21ADAEEDB68C8,
                0xD3DDC0F2FE90473,
                0xE5019A4C105B6977,
                0x4440F0CD9B30C95A,
            ],
            [
                0xD88CB750CE29E725,
                0x91A9287FAA7049,
                0x8C0FB080191BCA08,
                0xF1DC7ABBC85CD33C,
                0x26FB8F3B2E9B0D1E,
                0xA99F3A1965BE1ADB,
            ],
        ],
        [
            [
                0x83B01D65D048C748,
                0x52EDDD7715BB8C5C,
                0x71314F9D0E73BBD0,
                0xBB002DBDFAFC6188,
                0x186DBD907B3AE28,
                0xFCD9D0A9686D0,
            ],
            [
                0x3F62BA6FE1035E96,
                0xF7F415FA572C84DD,
                0x7FD2B1C1BBECC1C6,
                0x22E2C79BABAAF5DC,
                0x940DE20D22DD810D,
                0x69016858C68D7E08,
            ],
        ],
        [
            [
                0x6688904A4646B324,
                0xCECCD3C78A9A7B19,
                0xAA87BFD41CFF553F,
                0x3DC9CC8C756C0789,
                0x69122678CF17755D,
                0x106282716F9AA1CA,
            ],
            [
                0x194AF4064F0E3D0F,
                0x63B3724168664957,
                0x3B47CEBD4618716A,
                0xCF08FDBBAA1C13,
                0x33B2DCAF3ADDD750,
                0xC4B4F0D92B86DE34,
            ],
        ],
        [
            [
                0x18B746FCE0955A34,
                0x41541C36AA4B702D,
                0xC01447CBA01442C7,
                0x7B2D8F9295E279CA,
                0x61579A27C73027A1,
                0x5EF72F4D0E8A4B55,
            ],
            [
                0x1EC530D358F7DA52,
                0x5918ED1A12B843BC,
                0x110A42097A0FBB6B,
                0xD2CA1D95A641AF43,
                0xB5A50AC9F2D1437,
                0xA85BF6B8506D7B30,
            ],
        ],
        [
            [
                0x7EF2AD84F41F81C3,
                0xE2383F4235D2A7C0,
                0xF012BE9A9EB1F6E4,
                0x1ABD142265B9638A,
                0xF667A4E3F5B9DB8F,
                0x795980C8653B4907,
            ],
            [
                0xC9F9745F1E29E526,
                0x67B140BD4FF0D9C2,
                0x29BB5DBA23402B2D,
                0xBF5F562EBDAF7B9F,
                0xD53BF8FB00D6281D,
                0x10A71B9C93A3F172,
            ],
        ],
        [
            [
                0x36C683A31900BED3,
                0x1384EB58652E13C3,
                0xD6EC2CF70B8F67D,
                0x7E51DAEB7909E3A6,
                0x4B5BE7A77C0B6037,
                0x3E6FDE140774E373,
            ],
            [
                0xD5085A48246B0BFC,
                0xF129011EF09F8E0B,
                0xB7CEF2CF47084ADF,
                0xDBA11917045047FB,
                0x21BE6FCD2682B9,
                0x839F6B60C65366D3,
            ],
        ],
        [
            [
                0xD78216D60BB5CA2E,
                0xA4A8950922ECA71E,
                0xD78040156EFAAF52,
                0x417F3A4A71407809,
                0xE17601ACC4FF0780,
                0x94AE8C6B8AB85B2D,
            ],
            [
                0x33DFDA0E76AACE11,
                0xD40026B74BDDE08E,
                0x97C1B47D44AD0A11,
                0x4B0F1948492C1F22,
                0x679A941C0ACA8BBB,
                0x9BC32F26234F3858,
            ],
        ],
        [
            [
                0x2FB6C562F3A98EFC,
                0xBF28C841D7A75EC,
                0xBB4A4FC825CB15CE,
                0xF0BE0340DFE95AF,
                0xD167D88BE692807E,
                0x686A903E2675C4BF,
            ],
            [
                0x1536291601DBE4DE,
                0x3967707DF2214FA7,
                0x51412B560FBD32BE,
                0x523F48229E971580,
                0x7FD5C06815667704,
                0x945454B27E662F6F,
            ],
        ],
        [
            [
                0xF880CDC5F50EE23,
                0xC115B0FB992FB691,
                0xBC7097C7B895BA16,
                0x58E70100A903F23C,
                0x4C19243F54AD3165,
                0xA5E7688FC444C9A2,
            ],
            [
                0x7DE67F66AF26337E,
                0x9830F7CCF2D159C,
                0x2020637F2B899278,
                0x18BE821A84F5F2F7,
                0x860A8CC5B7AAC455,
                0x3588BC19EFAB2A5E,
            ],
        ],
        [
            [
                0x34CA7CA1A8792CF8,
                0x4FBF8E5E61A03B03,
                0xCC583FFD30799FD6,
                0xACDA87613B00DA69,
                0x5F078FE9CFA94857,
                0xA5EEAB74CD970362,
            ],
            [
                0x32CAF0ADC3E74623,
                0xAA87A99D454246D8,
                0xB60EC941CCD92AC,
                0x2D8AC0EEB68239C0,
                0x481EA8519BE0863E,
                0xC2229FFB885BFEA3,
            ],
        ],
        [
            [
                0x755D81AA1D1E8E9F,
                0x522D128149A42524,
                0x190EE07A0DF2D9F7,
                0xDC92939F5BD6EFA6,
                0x895E5102B2D3AFA8,
                0xBB204344DFB1DEB9,
            ],
            [
                0xA6E63AF3928FFC60,
                0x1F80D3FD9A6C02E2,
                0x9D26C177C5A4FBD5,
                0x38DF3145588ADF4,
                0x60993F3F0D2C0A38,
                0x5189FAE58F1459F3,
            ],
        ],
        [
            [
                0xDF9BA757BE4B3F61,
                0xAD04236DB6F7254F,
                0x884AB2DB009371A9,
                0x5F476DDADFD479F9,
                0xAC21C487B9A7870F,
                0x27CD3D39C1EAE7D2,
            ],
            [
                0xCEDEBD8BE2F5CB42,
                0xA5AD6FF842413FA6,
                0x9379FF412BFBE85,
                0x9922ABF9FBF15684,
                0x17FF9F0E14257B12,
                0x4FF6D6F743F8AB7B,
            ],
        ],
        [
            [
                0x8964BEC4B8014300,
                0x95FF32CFD6BDF915,
                0x401C389F2CC2E9C6,
                0x4E609F3BCBC4072F,
                0x2D4CCB79EDCE4405,
                0xAD5808807DDC73BD,
            ],
            [
                0x2A11127C11E1B13E,
                0x80C0870DF25B73DD,
                0xACC26A7A51CB0E5F,
                0x50F59B3A484A2E1B,
                0x452ED1EE9CC75FF6,
                0x2CE24D3180D7539B,
            ],
        ],
        [
            [
                0x48F9890ED502B922,
                0xE3593F5FBFDC4E40,
                0x840082FBB57D861A,
                0x754F7BCC5B74C673,
                0xC7F1C686F59A4811,
                0xB7A4BFE8C5D584AA,
            ],
            [
                0x65A6D94D88AFF138,
                0xF320D5EFE2BEB3C,
                0x786A89CB09A361BC,
                0xFC32A477F71F9E0A,
                0x75519518AAEAA070,
                0x7BA3B9327330E6F,
            ],
        ],
        [
            [
                0xCC32BD41ABA6F45E,
                0x29D4620E0F709D6C,
                0xD521A860C5D04A06,
                0xB84CD196E7EC50A9,
                0x1089785A855FB6FC,
                0x5280D858DA314DA,
            ],
            [
                0x590494CD3190F075,
                0xC7BFBDC41978993E,
                0x14309AB86BBCE59B,
                0xA76C119EE1FB1ECC,
                0xD425BAA05745A741,
                0x4297EB89D2EF6774,
            ],
        ],
        [
            [
                0x7CF1F3630D99DA58,
                0x9864BFC96A2B2234,
                0x69D7962E9367548F,
                0x1C47BFCC4724FC96,
                0xCC4F35273BABB1C2,
                0xBA54212CBC1EDC0A,
            ],
            [
                0x768A9FD0E979276A,
                0x803A374A7F037E6,
                0xF0089009B8F20942,
                0xB837D313068DDE17,
                0x5501E641FDB11E2E,
                0x4E7E5FEE2818789,
            ],
        ],
        [
            [
                0x99D18431E466AC9A,
                0xD35E9C5C840F883E,
                0x76295427E81A2243,
                0xA4B1E262C13CC6,
                0xC1AD51F7FD517BE8,
                0x69B09A50CA2E8304,
            ],
            [
                0x96F33B8EFD968883,
                0x84DF5AD4283E9E05,
                0xA2FF0C3ADBCF7115,
                0xF2686A3BB3000B41,
                0xFE30DB8933C65DB3,
                0x78A99BDA60F14244,
            ],
        ],
        [
            [
                0xA330373C3E67F4A,
                0x93C964729AEC7652,
                0x704952613599DDD7,
                0x58BF9ED1236820FF,
                0xA0F62C19F85D1E04,
                0xDD195CB4B9B6F3FC,
            ],
            [
                0x3C43A14556F6C169,
                0x63C9F52873A571E,
                0xA761098CCE198270,
                0xC27C10313FD9F307,
                0x150FC44751897B7C,
                0xEB96E1A6E3D19B71,
            ],
        ],
        [
            [
                0xF66FDB3830661F2D,
                0xF0F09C806127DE06,
                0x832672882C763EBE,
                0xCCDFE556C1A32BBF,
                0xE10126F4BC6D22EE,
                0x92D494E590649824,
            ],
            [
                0xA9CB791090922F37,
                0xB587725FD372AC73,
                0x8C8F9DF84BD8C242,
                0x4FCE6F12DE59DAB9,
                0x2B1A2AAA3385C695,
                0x8E10D0A31EE1DDF6,
            ],
        ],
        [
            [
                0xB4259360D540EC47,
                0xCA82FE0D85B404F5,
                0x1FED606E3382E37,
                0x92250FED3814DB3E,
                0xC58DB7C0E55BCD1,
                0xE4F9F9986F14D055,
            ],
            [
                0x8ED20A07F839B346,
                0xF4484BC3A9FE50D3,
                0x3F41DBE95D8471B6,
                0x84E9B8E93DC8AFF2,
                0xAA74E2909FA9BDAD,
                0xB467F7CA51072CDF,
            ],
        ],
        [
            [
                0x9C94B1A53B25EE87,
                0x35509843534D2314,
                0xE0F64CC0D62F95A5,
                0x424CDD9FCB82CDF0,
                0x30BD4ED7A00F2925,
                0x43AA9A90C0A90E31,
            ],
            [
                0xF3F4778F8A2A7D38,
                0x3583852BD1B0F7E2,
                0x9F29650E49A48AE8,
                0x3B128251F65A25CC,
                0x4AF8F2F85B5DD2AC,
                0x8544EEFD2762F13B,
            ],
        ],
        [
            [
                0x448098E58E2CD6A2,
                0x52392F5130A55F9D,
                0x81F51CE0AC1B5296,
                0xF27183FF7C432768,
                0x6934507074B05853,
                0x456C0BF867AAB906,
            ],
            [
                0x5B0B035785928066,
                0xE3302EE2DB7AAA9F,
                0xD02A302E75E14FBD,
                0xC36B654592812DD0,
                0x982D8B16ED3DFC5E,
                0x21972DB05FCB249D,
            ],
        ],
        [
            [
                0x9D5F6E6D84CD1778,
                0x4F792A6E92B60380,
                0x831732DF6DDC982E,
                0xD6A2AFA5E2CBFFB6,
                0x39BBC15153F25CD,
                0x9BB54BAA5E637BE,
            ],
            [
                0xBF795DB0828EE841,
                0x9B51DA7869C7B17B,
                0x5D09B118FE562D3A,
                0xCB3108B979E5E513,
                0xE00DAADF7776A710,
                0x9FCDA5C67E6D1407,
            ],
        ],
        [
            [
                0x7049E3CFE1CC89AC,
                0xE18D317A6D5F88B8,
                0xCB7B91DBE08C713A,
                0x24706240110800C9,
                0x9BFC792F269EB4E0,
                0xE36590676EAD949F,
            ],
            [
                0x7040D2A7801852B0,
                0xAD7AA487FC40CCEA,
                0xB55A5395932495EF,
                0xA10EDC38087DE1AC,
                0x38101B20D0D731EF,
                0xC9BE696102886F22,
            ],
        ],
        [
            [
                0xF7781A86AEFE8496,
                0xE1477169998A8A59,
                0x7D670F3E2F9BD1A2,
                0x69B8C420C366A33C,
                0x54E1F5CED69896BC,
                0xACE55BA85D410F07,
            ],
            [
                0x67EDDDF8BEBD3BE4,
                0x1B245CA2AE3411D6,
                0xB3EAD9B640BF5C6F,
                0xD7FF405787C4D181,
                0x2A8725A4825E0FA9,
                0x2AA90891ED638342,
            ],
        ],
        [
            [
                0xA358652CE71623DE,
                0xFBA69EFB0695F8A8,
                0xA351F3024ACC2A67,
                0x3E84A168AD86927,
                0x8C3CC576D5880C24,
                0x61E5BF212CD8AF18,
            ],
            [
                0xEEBC15560098B4E2,
                0x10D8CD606F48F211,
                0xDC475D863337F0AC,
                0x8AC449A5884855AF,
                0x76D3C38F8FE6ECA6,
                0x2B5C5623B2569880,
            ],
        ],
        [
            [
                0x6FA51AC93859852B,
                0x91A526A9957A009A,
                0x9A921196C258E41F,
                0xD17E00299C9BAB5,
                0x91B81483DFDCDD03,
                0x272957F7CA911F6A,
            ],
            [
                0xE88AF722F195D0C0,
                0x53DD927322BE1A35,
                0xF2796C9F7A59401D,
                0x12FA9ED68E05F0E7,
                0xE33A431FC4120FC9,
                0x45C146C7A172EE55,
            ],
        ],
        [
            [
                0xCD6E95E7E902AB38,
                0x1AB9EAB9DBC50D54,
                0x857E49601E3EAC8,
                0xA2BC16BD402A66D,
                0xF2EF77B761896A03,
                0x3BF25E5E5A95307,
            ],
            [
                0xEE72763115171885,
                0x5D12F5BA6DE28830,
                0x86C531C39E8A7339,
                0xBCF8C0E8DF47A2B3,
                0xD903874446DB13B6,
                0x76B09CA84F1ED179,
            ],
        ],
        [
            [
                0x4DD1DC23B0AE4FA7,
                0x7DD65F766FB671CC,
                0xD4E25D2DF86ABE3A,
                0xF9450C16101A0351,
                0xABF1191EC231544C,
                0x2D0F3BC030A482E7,
            ],
            [
                0x8031D2CC83CE9A7C,
                0x1671E113C44C3F7B,
                0x245AF102BD8F45,
                0x4B2697FFA0D50518,
                0x403CC6C275A18A46,
                0x7D7492D74EA9E852,
            ],
        ],
        [
            [
                0x9732364D8D4AD3F,
                0xF600D24FE486ADD4,
                0xECDE12C7313037AA,
                0x21CB1647769D1DB2,
                0xE8C93E9873FB54E0,
                0xBAAB7781282E3956,
            ],
            [
                0x7C7B30C35F82BADD,
                0x8F4E82955652060A,
                0x4AE3339A89EE15F1,
                0x63A9B130A5A5BBFF,
                0xEFACB6703D329B6D,
                0x5922B269C06E0116,
            ],
        ],
        [
            [
                0xF2171906F3B8E5CD,
                0xE5B91E028B58DBD9,
                0x5E31918160542A45,
                0x91BB6BCBB2D31003,
                0x55E0A1180CD2C7AA,
                0x916695DA01613BB9,
            ],
            [
                0x3E36AFA1A5ABB70C,
                0x4F09260C8B94583E,
                0x9950D01065FC46CA,
                0x3EA2D5FB121C7BC2,
                0x6FAA7A8E74191985,
                0x7494FF8615619210,
            ],
        ],
        [
            [
                0xC910C5539E466919,
                0xA4F4461AA1741866,
                0x17921E8682D678D9,
                0xA76F265794DF8853,
                0x9D13FD95023C2E20,
                0xA9860FD77A3A4ED4,
            ],
            [
                0x42E428EE8426CF93,
                0xEE4106040D236CC1,
                0xE7FAAB45091ED4BD,
                0x59B020C68B074E26,
                0x4362D11D8368BC3D,
                0x7C7008AB50F73076,
            ],
        ],
        [
            [
                0x89AEC2B9438C99EB,
                0x11BE324C38274391,
                0xDC30DF89D428BC9,
                0xFF0EED744D44CED0,
                0x856889A2B1160561,
                0x63D38B1B84709EC0,
            ],
            [
                0xDEB8647A21239EFF,
                0xDF1208B945878027,
                0x4AFB3C3EC736DCD3,
                0x3F8661B2351B6F9F,
                0x2536E8580C264650,
                0x90316B057E27AE9A,
            ],
        ],
        [
            [
                0x5A8F1DBA4BE0CABE,
                0x5C90A14BCF7D125E,
                0x26A66A24DDC7BDB7,
                0x9808674587267324,
                0xD532880B768D8ADF,
                0xBF911488B96BCFE4,
            ],
            [
                0xABC9FE22C6ACBB5,
                0x1F00DE288F0D1F6C,
                0x4A47330CD4317014,
                0xD4258BBD34D50F5C,
                0xF6FD52F197811050,
                0x4CD40D4BE4EDE0C6,
            ],
        ],
        [
            [
                0xC07B320075A2AC9B,
                0x121413B37AB6B51B,
                0x2352A0DF3941D318,
                0xFFF8DBEE13B941C0,
                0xB965F1518887F4F8,
                0x96B870840244BC3A,
            ],
            [
                0xD7DDD5530D6BB7A,
                0xA925F81BFB6CC8ED,
                0xE7B2346BC0FA5D3A,
                0x273CB92A7E9F3D86,
                0xBE5D3E3CBB7A3251,
                0xA594BDEDB600FBD2,
            ],
        ],
        [
            [
                0xBD7EAD87868AFCD1,
                0xB904B1867250FB8F,
                0x3F49CAEB4015C188,
                0x37AFADA2784268E8,
                0x1ADC5D16AECC25FA,
                0xE670FAF2F44E98C7,
            ],
            [
                0x66EF73748DB1B57D,
                0xBBE7410330C5B94F,
                0x725ADD1FD9774C80,
                0x4F3D8A921457834A,
                0x69D3CEB9219022E9,
                0x43082A147D5D2090,
            ],
        ],
        [
            [
                0xDEC30E7642677411,
                0x5B0C15434E6C8F9,
                0xF0271AE730CFCF61,
                0x9AB2FCEFD97BF30,
                0x5A86A8CB0EC24650,
                0xF9FA16678B58FDCA,
            ],
            [
                0xE2368C32A97BF2C1,
                0x228AC6272246B960,
                0x9D54A6EECF8A4BE7,
                0xBAFEABF6FED04CE7,
                0x76DE0BD5B4010DE8,
                0x1C6AD0D4B59837A4,
            ],
        ],
        [
            [
                0x72EBA7A771E3D89F,
                0xB05399838327DE90,
                0x7DE60D74076B6E57,
                0x3C805511ED20180D,
                0x40584835ECA1358F,
                0x932D00DBB75EC17B,
            ],
            [
                0xFDD4CA9921DF88A2,
                0x7AF14774CC8D69DD,
                0xD03E6E2C1E28AA0F,
                0x439B0488D15BBAE6,
                0x78DD529502FBA636,
                0x4D09129954203157,
            ],
        ],
        [
            [
                0x2C4FB4D611DB3914,
                0xFD0AA3E6EF67208C,
                0x7061394AC83D203C,
                0x530B58C6AD809551,
                0xAF821E23F62CD38B,
                0x4390C699454B39DE,
            ],
            [
                0x9ED007F964586C3A,
                0x9B8AA1E334241A9D,
                0x6C0D021E58A68825,
                0x39ADFCB80CFE300D,
                0x6FCDCB88B4358E7E,
                0xF020D4604AF646FA,
            ],
        ],
        [
            [
                0xFAD43BFECB7ECBC4,
                0x8EE959D8DD174516,
                0xC5D003D0CAA0CE4E,
                0xC6EF061D4F2EB32C,
                0x17DCE843928C0E58,
                0x30F20E72F2A604B1,
            ],
            [
                0xF83E73A89D6E567E,
                0x57E0606D414EB0D1,
                0xA7B5125F7F724DB4,
                0x506A954FBC12AB9D,
                0xA5DC7E2BDEBE9203,
                0x72741C7D875BDE5C,
            ],
        ],
        [
            [
                0xF2E34F719B9F6A1E,
                0xBB9937968E25FC6C,
                0x52E878EE1B831D0F,
                0x9B8430AA7457C6CE,
                0x6D2B1AC8DFC98334,
                0x7D29C9A2188232D7,
            ],
            [
                0xD3F0CE1F3183BABA,
                0x111191DE03E14C69,
                0x45E7FC2843007D4B,
                0x7DA77BB4AF6FC3AC,
                0xB2E1615FA00AEAC8,
                0x12DDE8CE61A6875A,
            ],
        ],
        [
            [
                0x9632B074FD09F62D,
                0x4CA20A46068B5C5D,
                0x521C7EA6847048F8,
                0x944150F735BDC1CC,
                0xC0571C816F515564,
                0x44539E4588EF4E14,
            ],
            [
                0xA03F4C2E3C41F994,
                0xDB9506E3EDC6D47B,
                0x18134ED748E4A571,
                0xCBB37328FE52ED34,
                0x62E5B77A9ADBBEE2,
                0xFC15158E2A6CA72E,
            ],
        ],
        [
            [
                0x1358870E884C908F,
                0x6FAE5873BEB5EAA4,
                0x186CAFF36E96245D,
                0x9EBB8898A0BDC69C,
                0x938FC2BC614604DA,
                0xC70F31710BEA1D7,
            ],
            [
                0xA4C77199C91E272,
                0x62B39BA2B74E2C62,
                0x33383E01BC4B53F1,
                0x531D09392EA5551C,
                0x6A1E1DFA639B72E,
                0x46C4A94A4BCD31D4,
            ],
        ],
        [
            [
                0x2AD6429BC8FEA0E5,
                0xFF66F3BAC41D9F96,
                0xE82C284E9C03D1DD,
                0xC7455F7DABFDCD0B,
                0x9CC22574AA6E0BFC,
                0x64D6458EB84EB7C2,
            ],
            [
                0x8F73F7F17D6DF98A,
                0xE0237344177990FA,
                0x4DF5574D869ABF14,
                0xFE3123C1D05ED1E8,
                0x7E3F9A8BC00864D6,
                0xB5E8E3F8D39290E4,
            ],
        ],
        [
            [
                0x8CFBC1D5D45B6F45,
                0x76A89C2FF285CB73,
                0x87C49EC50929EB38,
                0x4C0A50B9EE580677,
                0xDBBE5DBF94C1FAEF,
                0xA3499D4B420115DE,
            ],
            [
                0xAEDC7FAB294DC326,
                0x2DDE602E961F53E9,
                0x41190C0F915864C3,
                0xB494E9C40EB8AF31,
                0x5D90D81DAF2BA7EA,
                0x87A3637510059C10,
            ],
        ],
        [
            [
                0x3AEBC99EFFADF679,
                0x26B427E2F00F82C2,
                0xA96085D0C64E6FE6,
                0x3662E14002881C41,
                0x12C51B5E15EB06D3,
                0x9F9CC8E3BDC59734,
            ],
            [
                0x43533C26E84A1498,
                0x730EFB5C26C7198D,
                0x87D84A3121E2745B,
                0x1A10BEF1660BCCA3,
                0xDEEFD76659884D7,
                0x1A117D463D397B40,
            ],
        ],
        [
            [
                0xAC569A21B83F1A51,
                0xE0EE52B1D9AAC553,
                0x7FABE61ED85FB5B5,
                0x2A86D094AC5E60FB,
                0x5244A17AD8FBFEC2,
                0xBAD52034DE41D898,
            ],
            [
                0x50B0E3EC1813E6A5,
                0x7F1A6A7AB2D55CE3,
                0xFEBF6F2362B4F996,
                0xD11C0C5044DBA1FA,
                0x8B753D5029559329,
                0x7D7C80DE3A21D554,
            ],
        ],
        [
            [
                0x8EE0F5F370FE0CF9,
                0x11C409397AB76292,
                0xA3E29FB59A0F734A,
                0x51875705E45730BA,
                0xBA1DEF0CFEF33803,
                0x9D0DF4086B919E48,
            ],
            [
                0xBE014F2C65B231BB,
                0x8EC8BD5BF4614BFA,
                0xDE36694C6CBC5DCB,
                0x612EF7FF86EAD699,
                0xA9A0818E01FB1F53,
                0xFECB0D4B6F9B6281,
            ],
        ],
        [
            [
                0x88C62F076ED9725F,
                0xEEB8C4BCFC9CD132,
                0xAEA61F1446D217D6,
                0x89D3469523BF6212,
                0x277EA1CB4F4E6A5C,
                0x786F9C3D43B188D0,
            ],
            [
                0x7EE74BFCA4C22C1F,
                0x916083FAB40C1370,
                0x6ADDB63715DB543C,
                0x6D20649B33B604C5,
                0x46997A870BC88167,
                0xCC9D46D585237DE4,
            ],
        ],
        [
            [
                0xA97294AD0014934D,
                0x25A43D934A6CE595,
                0x8EEA46CDB4CE73D7,
                0xAA67E536542AC3DA,
                0x616EE24FABE45F2,
                0x5EBC7BE951B20A7F,
            ],
            [
                0x133C7CEC3095CC1D,
                0x928EA8750472A499,
                0x9EB2D973EEEB4EE7,
                0x80B1AE5842487CB4,
                0x8BED913BD25CC615,
                0xD677D347B222D0D6,
            ],
        ],
        [
            [
                0x9A59B2AF3ABFE9E,
                0x3F8B8EB3452E2AFC,
                0x54DFE3566FC6BEFE,
                0x7BEFF9701A815928,
                0xBF86E4165C859195,
                0xA8D1F3E629C22809,
            ],
            [
                0x437C78F29E2CEAAB,
                0x883675297A5F8A63,
                0x3D01A4E117536AB7,
                0x49D0321B069BFB3C,
                0x7DC73CD7B3ECECBE,
                0xDF4E2DEF77916FA3,
            ],
        ],
        [
            [
                0x95336E5B4594506C,
                0x7CBDBD6DC717636,
                0xB7608F469541C81D,
                0x26CCAD0191A8DBD,
                0xA776F6DE66FA0526,
                0xDDBD66045F0EA7AA,
            ],
            [
                0xFBAD2AFF3480F52B,
                0x42BAA76FC6456C77,
                0x8EC78428667C8B79,
                0xBD4910809EA80448,
                0x9A3478E9DBBE4F49,
                0x27BC3B177B35626F,
            ],
        ],
        [
            [
                0xB910889989A354FA,
                0xCE7E913261ADD3C2,
                0xC1E9BF0534CA79A8,
                0x66F14C458C89428C,
                0xD4985E177C208AFE,
                0xA3DF5BFA19C542EE,
            ],
            [
                0xBCFF906C46A01F99,
                0x6B82B5A67DD83006,
                0x3A9FA8F5535D455C,
                0x6D22D11C0CF0BB6F,
                0x88554F1E10992699,
                0xE0505C42A0A88D05,
            ],
        ],
        [
            [
                0x7E062462A3B2C1C7,
                0x8D542A24AFFBC219,
                0x81C90CC5ED5C8209,
                0x16BDC19643E25195,
                0x5B53CBC7A8D20D69,
                0x6973C89FD1E9B8FC,
            ],
            [
                0xC340F6B1E5A5777B,
                0xAFA6F55AEA74D9A6,
                0xC97461BA8F38F069,
                0xF5B4EB9FAE92DA27,
                0x84E55C0D4DE9327C,
                0xC790790974CE433C,
            ],
        ],
        [
            [
                0x21F0032BB1D8C1B2,
                0xFFA8549171421FF3,
                0xA065CBDE8F491F7F,
                0x17F63606D70F4ADC,
                0xF50AFFC2F19D29E1,
                0x1BFC28D72EC83EED,
            ],
            [
                0x29B44A2CEE7ADBCB,
                0x2C8223DD03DEF718,
                0x7AD8817823AAE06D,
                0xE0C7DE67B29A4CDD,
                0xC105C5D360F9BE18,
                0xDCA98D0C14E7B893,
            ],
        ],
        [
            [
                0x969445523A610E5A,
                0x8F9A6CD3B7FAF355,
                0xEC8E5D22FE5E516E,
                0xCC1B7B61BC76825D,
                0x55FF6C033C8D501B,
                0xFDAAF96EE55248F8,
            ],
            [
                0x253C86C9419045C9,
                0x9B85C5AB55ED1F4E,
                0xB25A46830341788E,
                0x22C9D4A1C8988B06,
                0xD202C2D097881B30,
                0xF48EE4516FC80A3D,
            ],
        ],
        [
            [
                0x4FB2F40B4E0788BD,
                0xC3B7FCA27258011E,
                0xA6BE240922CF7D5B,
                0xE14E1C94F00C7ED0,
                0x4B584E3A3BD8EDB7,
                0x9E3911FBB6FAD4AA,
            ],
            [
                0xC7A838A11A324637,
                0xF9B88BB9B811B83D,
                0xC9D5B63B0ABD433B,
                0x5108958267284196,
                0x543821B5B3F0F293,
                0x864A405CEC9BB742,
            ],
        ],
        [
            [
                0x2F7E944FC00479A5,
                0x6FB0622422FFB22A,
                0x7F274E808F22A7EB,
                0x3B3200ED65FC5972,
                0x3B147295FF11E058,
                0xD28608EC042F65FF,
            ],
            [
                0x741E0AAEA8C13E3A,
                0x5D099188E731088E,
                0xFBD4F4E0B9F6E544,
                0xDB922B2EF4384C68,
                0x490CE86E50110E91,
                0xF1064EA5CF24CA8C,
            ],
        ],
        [
            [
                0xCBADAA32DEED9420,
                0x1D2293BE9E3BEC7A,
                0xF3F837B5D876F816,
                0x18637D9D94FDB0A1,
                0xA3D60900EE0E7072,
                0x25B98A3F4D81E292,
            ],
            [
                0x43AA9AE2EB145A6,
                0xBD64753B36238100,
                0xF9E599CE6373C5EB,
                0xFD99A5A16DAF4673,
                0x12923983D690DA3E,
                0xEA04D5A92C1D98D7,
            ],
        ],
    ],
};